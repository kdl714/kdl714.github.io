<!doctype html>
<!-- v1.2.1 -->
<html lang="en">
<head>
<meta charset="utf-8">

<style>
  body {
    font-family: serif;
    padding: 24px;
  }

  /* ---------- Pills ---------- */

  .pill-group {
    display: inline-flex;
    border: 1px solid black;
    border-radius: 999px;
    overflow: hidden;
    margin: 6px 0;
  }

  .pill {
    padding: 6px 14px;
    background: white;
    color: black;
    border: none;
    border-right: 1px solid black;
    cursor: pointer;
    user-select: none;
  }

  .pill:last-child {
    border-right: none;
  }

  .pill.active {
    background: black;
    color: white;
  }

  /* ---------- Roll button ---------- */

  #dicebtn {
    margin-top: 16px;
    padding: 12px 28px;
    font-size: 18px;
    border: 2px solid black;
    background: black;
    color: white;
    cursor: pointer;
    border-radius: 6px;
  }

  #dicebtn:active {
    transform: translateY(1px);
  }

  /* ---------- Output ---------- */

  #output {
    margin-top: 24px;
    display: flex;
    gap: 16px;
  }

  .die {
    width: 80px;
    height: 80px;
  }

  .die rect {
    fill: white;
    stroke: black;
    stroke-width: 2;
    rx: 12;
  }

  .die text {
    font-size: 28px;
    dominant-baseline: middle;
    text-anchor: middle;
    fill: black;
    font-weight: bold;
  }

  .winner.adv rect {
    stroke: green;
    filter: drop-shadow(0 0 6px rgba(0,128,0,.6));
  }

  .winner.dis rect {
    stroke: red;
    filter: drop-shadow(0 0 6px rgba(128,0,0,.6));
  }

  /* ---------- Roll flash ---------- */

  @keyframes rollFlash {
    0% { background: transparent; }
    30% { background: #f0f0f0; }
    100% { background: transparent; }
  }

  #output.rolling {
    animation: rollFlash 300ms ease;
  }
</style>
</head>

<body>

<!-- Dice (exclusive, required) -->
<div class="pill-group" id="dice-group">
  <button class="pill" data-dice="4">d4</button>
  <button class="pill" data-dice="6">d6</button>
  <button class="pill" data-dice="8">d8</button>
  <button class="pill" data-dice="10">d10</button>
  <button class="pill" data-dice="12">d12</button>
  <button class="pill active" data-dice="20">d20</button>
</div>

<br>

<!-- Modifier (exclusive, optional) -->
<div class="pill-group" id="mod-group">
  <button class="pill" data-mod="str">STR</button>
  <button class="pill" data-mod="int">INT</button>
  <button class="pill" data-mod="dex">DEX</button>
  <button class="pill" data-mod="wis">WIS</button>
  <button class="pill" data-mod="con">CON</button>
  <button class="pill" data-mod="cha">CHA</button>
</div>

<br>

<!-- Advantage (exclusive, optional) -->
<div class="pill-group" id="adv-group">
  <button class="pill" data-adv="adv">Advantage</button>
  <button class="pill" data-adv="dis">Disadvantage</button>
</div>

<br>

<button id="dicebtn">Roll</button>

<div id="output"></div>

<script>
  const output = document.getElementById("output");

  const mods = {
    str: -1, int: 0, dex: 2,
    wis: 1, con: 0, cha: -2
  };

  /* ---------- Dice: exclusive, never deselect ---------- */
  document.querySelectorAll("#dice-group .pill").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelectorAll("#dice-group .pill")
        .forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    });
  });

  /* ---------- Toggle groups (exclusive + deselectable) ---------- */
  function setupToggleGroup(groupId) {
    document.querySelectorAll(`#${groupId} .pill`).forEach(btn => {
      btn.addEventListener("click", () => {
        const wasActive = btn.classList.contains("active");

        document.querySelectorAll(`#${groupId} .pill`)
          .forEach(b => b.classList.remove("active"));

        if (!wasActive) {
          btn.classList.add("active");
        }
      });
    });
