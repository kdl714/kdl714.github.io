<!doctype HTML>
<html>

<body>

  <div>

    <input type="radio" id="d4" dice_type="4" name="dice"><label for="d4">d4</label>
    <input type="radio" id="d6" dice_type="6" name="dice"><label for="d6">d6</label>
    <input type="radio" id="d8" dice_type="8" name="dice"><label for="d8">d8</label>
    <input type="radio" id="d10" dice_type="10" name="dice"><label for="d10">d10</label>
    <input type="radio" id="d12" dice_type="12" name="dice"><label for="d12">d12</label>
    <input type="radio" id="d20" dice_type="20" name="dice"><label for="d20">d20</label>
    <br>
    <input type="radio" id="mod-str" mod_type="str" name="mod"><label for="mod">STR</label>
    <input type="radio" id="mod-int" mod_type="int" name="mod"><label for="mod">INT</label>
    <input type="radio" id="mod-dex" mod_type="dex" name="mod"><label for="mod">DEX</label>
    <input type="radio" id="mod-wis" mod_type="wis" name="mod"><label for="mod">WIS</label>
    <input type="radio" id="mod-con" mod_type="con" name="mod"><label for="mod">CON</label>
    <input type="radio" id="mod-cha" mod_type="cha" name="mod"><label for="mod">CHA</label>
    <input type="radio" id="mod-clear" mod_type="clear" name="mod"><label for="mod">NONE</label>




    <button id="dicebtn">Roll</button>
    
  </div>

  <div id="output"></div>
  
</body>

  <script>

    const button = document.getElementById("dicebtn");
    const output = document.getElementById("output");

    button.addEventListener("click", rollDice );

    function rollDice(){
      let diceValue = document.querySelector('input[name="dice"]:checked').attributes.dice_type.value;
      let modValue = document.querySelector('input[name="mod"]:checked').attributes.mod_type.value;
      let mods = {"str":"-1",
                  "int":"+0",
                  "dex":"+2",
                  "wis":"+1",
                  "con":"+0",
                  "cha":"-2"};

      
      let roll = Math.floor((Math.random() * diceValue) + 1);
      let mod = Number(mods[modValue]);
      let total = 0;
      let modAbs = Math.abs(mod);
      let output = "";
      
      if ( roll == 1 || 20 ) {
        output = "nat " + roll;
      }
      else if ( mod >= 0 ){
        total = roll + modAbs;
        output = roll + " + " + modAbs + " = " + total;
        } 
      else { 
        total = roll - modAbs;
        output = roll + " - " + modAbs + " = " + total;
      };
      
      output.innerHTML = output;
    }
    
  </script>
  
</html>
